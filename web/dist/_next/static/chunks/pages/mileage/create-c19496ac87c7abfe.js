(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[837],{2324:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/mileage/create",function(){return n(7281)}])},5963:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});var a=n(5893);function r(e){let{state:t,setState:n}=e,r=e=>{let{value:a}=e.target,r={...t,category:a.trim().toUpperCase()};n(r)};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("h3",{children:"Request Category"}),(0,a.jsxs)("select",{name:t,onChange:r,defaultValue:t.category,children:[(0,a.jsx)("option",{value:"",disabled:!0,hidden:!0,children:"Select Category..."}),["IOP","INTAKE","PEERS","ACT_TEAM","IHBT","PERKINS","MENS_HOUSE","NEXT_STEP","LORAIN","PREVENTION","ADMINISTRATIVE","FINANCE"].map(e=>(0,a.jsx)("option",{value:e,children:function(e){let t=e.toLowerCase().split(" ");for(let e=0;e<t.length;e++)t[e]=t[e].charAt(0).toUpperCase()+t[e].slice(1);return t.join(" ")}(e.toLowerCase().split("_").join(" "))},e))]})]})}},776:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});var a=n(5893);function r(e){let{state:t,setState:n}=e,r=e=>{let{value:a}=e.target,r={...t,grant_id:a.trim()};n(r)};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("h3",{children:"Grant"}),(0,a.jsxs)("select",{name:t,onChange:r,defaultValue:t.grant_id,children:[(0,a.jsx)("option",{value:"",disabled:!0,hidden:!0,children:"Select Grant..."}),(0,a.jsx)("option",{value:"N/A",children:"None"}),[{id:"H79TI082369",name:"BCORR"},{id:"SOR_HOUSING",name:"SOR Recovery Housing"},{id:"SOR_PEER",name:"SOR Peer"},{id:"SOR_LORAIN",name:"SOR Lorain 2.0"},{id:"H79TI085495",name:"RAP AID (Recover from Addition to Prevent Aids)"},{id:"2020-JY-FX-0014",name:"JSBT (OJJDP) - Jumpstart For A Better Tomorrow"},{id:"H79SP082264",name:"HIV Navigator"},{id:"H79SP082475",name:"SPF (HOPE 1)"},{id:"SOR_TWR",name:"SOR 2.0 - Together We Rise"},{id:"H79TI083370",name:"BSW (Bridge to Success Workforce)"},{id:"H79SM085150",name:"CCBHC"},{id:"H79TI083662",name:"IOP New Syrenity Intensive outpatient Program"},{id:"TANF",name:"TANF"},{id:"H79SP081048",name:"STOP Grant"},{id:"H79TI085410",name:"N MAT (NORA Medication-Assisted Treatment Program)"}].map(e=>{let{id:t,name:n}=e;return(0,a.jsx)("option",{value:t,children:n},t)})]})]})}},7281:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return c}});var a=n(5893),r=n(7294),i=n(6154),o=n(5963),s=n(776),l=n(2984);function d(e){let{new_request:t,request_id:n}=e,{user_credentials:d}=(0,l.b)(),[c,u]=(0,r.useState)({grant_id:"",date:new Date().toISOString(),category:"",starting_location:"",destination:"",trip_purpose:"",start_odometer:0,end_odometer:1,tolls:0,parking:0}),h=e=>{let t;e.preventDefault();let{name:n,value:a}=e.target;switch(n.trim().toLowerCase()){case"date":t={...c,[n]:new Date(a).toISOString()};break;case"start_odometer":case"end_odometer":t={...c,[n]:parseInt(a)};break;case"tolls":case"parking":t={...c,[n]:parseFloat(a)};break;default:t={...c,[n]:a.trim().toLowerCase()}}u(t)},m=async e=>{i.Z.post("/api/mileage",c,e).then(e=>console.log(e.data)).catch(e=>console.error(e))},p=async e=>{let t={...c,request_id:n};i.Z.put("/api/mileage",t,e).then(e=>console.log(e)).catch(e=>console.error(e))},g=async e=>{e.preventDefault(),console.log(t?await m(d):await p(d))};return(0,a.jsxs)("form",{id:"mileage-form",children:[(0,a.jsx)(s.Z,{state:c,setState:u}),(0,a.jsx)(o.Z,{state:c,setState:u}),(0,a.jsx)("h4",{children:"Trip Date"}),(0,a.jsx)("input",{type:"datetime-local",name:"date",onChange:h}),(0,a.jsx)("h4",{children:"Starting Location"}),(0,a.jsx)("input",{name:"starting_location",defaultValue:c.starting_location,id:"start",maxLength:50,type:"text",onChange:h}),(0,a.jsx)("br",{}),(0,a.jsxs)("span",{children:[c.starting_location.length,"/50 characters"]}),(0,a.jsx)("h4",{children:"Destination"}),(0,a.jsx)("input",{name:"destination",id:"end",defaultValue:c.destination,maxLength:50,type:"text",onChange:h}),(0,a.jsxs)("span",{children:[c.destination.length,"/50 characters"]}),(0,a.jsx)("h4",{children:"Trip Purpose"}),(0,a.jsx)("textarea",{rows:5,maxLength:75,name:"trip_purpose",defaultValue:c.trip_purpose,onChange:h}),(0,a.jsxs)("span",{children:[c.trip_purpose.length,"/75 characters"]}),(0,a.jsx)("br",{}),(0,a.jsx)("h4",{children:"Start Odometer"}),(0,a.jsx)("input",{name:"start_odometer",defaultValue:c.start_odometer,max:c.end_odometer-1,type:"number",onChange:h}),(0,a.jsx)("h4",{children:"End Odometer"}),(0,a.jsx)("input",{name:"end_odometer",defaultValue:c.end_odometer,type:"number",min:c.start_odometer+1,onChange:h}),(0,a.jsx)("h4",{children:"Tolls"}),(0,a.jsx)("input",{name:"tolls",type:"number",defaultValue:c.tolls,onChange:h}),(0,a.jsx)("h4",{children:"Parking"}),(0,a.jsx)("input",{name:"parking",type:"number",defaultValue:c.parking,onChange:h}),(0,a.jsx)("br",{}),(0,a.jsx)("a",{onClick:g,className:"archive-btn",children:"Submit Request"}),(0,a.jsx)("br",{})]})}function c(){return(0,a.jsxs)("main",{children:[(0,a.jsx)("h1",{children:"New Mileage Request"}),(0,a.jsx)(d,{new_request:!0})]})}}},function(e){e.O(0,[774,888,179],function(){return e(e.s=2324)}),_N_E=e.O()}]);